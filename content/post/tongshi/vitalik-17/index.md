---
path: vitalik-04
id: 17
title: 如何参与Eth2 Staking 系列 (开篇)
description:  'eth2概述，包括eth2各阶段简要介绍、设计理念、节点与客户端。' 
date: 2020-06-25T02:15:01.762Z
author: Carl Beekhuizen  
---

</br>

来源 | [Ethereum Blog](https://blog.ethereum.org/2019/11/27/validated-staking-on-eth2-0/)

</br>



![质押1.png](https://i.ibb.co/WyP26VY/1-8cf3398852.png)





首先感谢Danny 与Joe的协助。

随着信标链临近发布，eth2也越来越接近定局，现在是时候与社区快速同步最新eth2的内部运作方式以及成为验证者的具体要求、激励机制以及体验了。本文将从较高层面对eth2进行概述，往后还会发布与eth2验证者各方面相关的系列文章，本文仅作为基础开篇。

虽然迄今为止eth2的准备工作已进行了很长一段时间，但在这几年中也取得了巨大进展。最初，由智能合约管理的分片技术和权益证明(PoS)机制是独立的设计，而如今它们已实现高度互联，**在效率、可扩展性和安全性方面得到了显著改善。**

</br>

# eth2的各个阶段

随着eth2组成部分之间的联系变得越来越紧密，其他部分也被划分为多个阶段，以便更好地梳理eth2不同部分的内容。在撰写本文时，随着客户端软件开发工作进入最后收尾阶段，阶段0即将启动。同时，阶段1的规范已经制定完成，阶段2的规范正在积极研发中。

- **阶段0**的内容是信标链，而**信标链是eth2的核心**，能够管理验证者并且协调分片链。信标链作为实践基础，引导着eth2其他所有方面的发展。
- **阶段1**的实现以阶段0为基础，主要内容是**将数据写入分片链**。由于阶段0为分片链奠定了大部分基础工作，阶段1实现的复杂程度比其他组件要低得多。
- **阶段2**是eth2的执行阶段，基本来说就是将eth2从强大的数据库升级成为**完全去中心化的计算平台。**

</br>

# 阶段0究竟是什么？

如前所述，信标链能够跟踪验证者集和分片链的状态。在实践中，这意味着如果（定期）跟踪信标链上的动态，用户将获得足够的信息以验证eth2中发生的任何事情。在信任的基础上进一步验证。

为了使PoS系统正常运行，需要就验证者是哪些以及每个验证者的质押情况达成共识，这样才能知道他们的投票权重有多大，并根据他们的行为进行适当的奖惩。信标链也会管理eth2的分片链，具体体现为在分片中分配验证者职责以及跟踪每个分片的当前状态。

Eth2与其他PoS系统的部分区别在于参与协议的验证者绝对数量不同。其他 PoS系统中的验证者数量可能为数十个、数百个或者数千个，而eth2的验证者将**以数十万甚至数百万计**。这种程度的去中心化之所以成为可能，得益于验证者小组（即委员会）达成的中间共识。信标链根据一定的随机性来将验证者分配到委员会中，委员会负责评估某些部分是否属于信标链和分片链。然后，每个委员会的投票将经由加密聚合成一个证明，而这意味着验证整个委员会的所有投票不会比验证单个投票麻烦许多。因此，**要检查信标链的有效性，只需要部分聚合签名就可以评估大多数验证者的投票。**

信标链也会跟踪eth1链和其中的押金，如此一来新的验证者就可以通过将32个ETH发送到部署在eth1链上的质押合约(deposit contract)来加入eth2系统。通过使信标链对eth1链进行投票验证，在将来eth2就可以为eth1规范链（最长链）上的区块提供经济保证，从而增强eth1链的安全性。

</br>

# 节点和客户端

eth2区分了信标节点和验证者客户端，验证者需要这两者才能履行其职责。信标节点（即节点）负责维护整个信标链以及用户或验证者可能需要使用的任意分片。

顾名思义，验证者客户端（即客户端）负责处理的是单个验证者的逻辑。具体实现体现为通过与信标节点进行通信以了解信标链的当前状态，适时证明和提议区块，最后请求信标节点将区块信息发送给其他节点。

注：如果没有运行验证者客户端，那么信标节点包含所有与eth2进行去信任交互所需的所有信息，这类似于eth1中的全节点。

![img](https://i.ibb.co/s9CkR0P/2.png)

以下摘取了一些区分信标节点和验证者客户端的原因：

- 要成为验证者，首先需要抵押32个ETH，因此想要质押更多数量ETH的用户就需要运行多个验证者实例。将节点和客户端区分开使得这些用户在仅运行一个信标节点的情况下连接多个验证者客户端，从而减少了计算、内存和存储需求。
- 独立区分的验证者节点能够更容易编写、推理并审核较小的代码块，因此其安全性可能会更高。
- 对于担心出现冗余的用户来说，并行运行多个节点，降低了验证者离线的几率。
- 由于验证者客户端只能通过信标节点与eth2网络的其他部分进行交互，甚至到时还需要通过一个[受限的API](https://github.com/ethereum/eth2.0-APIs/blob/master/apis/validator/beacon-node-validator-api.md)，这样大大缩小了验证者节点的受攻击面。
- 如果希望与eth2进行交互但又不想成为验证者，用户只需运行一个信标节点，这将授予他们访问信标链和分片的权限。

</br>

# 设计理念

eth2的设计理念为eth2内的所有决策提供了有用的参照，并且在许多实例中封装了eth2与其他协议之间的差异。

- **协议是基本原则**：认识到一切都需要进行权衡，因此协议的安全性和活性优先于其他设计需求。
- **抱最大希望，做最坏打算**：eth2假设验证者怠惰、收受贿赂、攻击系统的情况，除非采取措施对验证者进行激励。此外，还假定网络不完全可靠，并且灾难性事件的发生可能会迫使大量验证者离线。基于这些假设，eth2应该要做到有备无患，具备在第三次世界大战中幸存下来的能力。
- **可用性难度最小化**：eth2已经尽可能地简化了，以便更容易理解、传播、审计、开发无漏洞客户端并且通常避免了极端情况。
- **最大程度去中心化**：PoS协议普遍容易在验证者数量这一点上作出妥协，而eth2的设计理念就是要将验证者的规模拓展至数百万，同时鼓励这些验证者独立于彼此履行职责。
- **预见意外**：eth2上的所有组件都是抗量子计算机，或是能够在量子灾难发生时被替换为抗量子计算机的组件。
- **民治民享**：eth2必须要能够在笔记本电脑上运行。参与的门槛越低，参与者就越多，而这也意味着更高的去中心化程度。

</br>

# 结语

相信看到这里大家已经对eth2有了一些基本了解，在本系列的后续文章中，我们会为大家解读更多eth2得以持续运作的细节，敬请关注。

</br>

</br>

声明：ECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系ethereumcn@gmail.com进行授权。